webpackJsonp([1],{"+9L8":function(e,r){},sRlW:function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=s("t5DY"),t={components:{},data:function(){var e=this;return{ruleForm:{oldPassword:"",newPassword:"",repeatPassword:""},rules:{oldPassword:[{validator:function(r,s,o){""===s?o(new Error("请输入旧密码")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),o())},trigger:"blur",required:"true"}],newPassword:[{validator:function(r,s,o){""===s?o(new Error("请输入新密码")):s.length<6?o(new Error("新密码长度必须为6位以上")):(""!==e.ruleForm.repeatPassword&&e.$refs.ruleForm.validateField("repeatPassword"),o())},trigger:"blur",required:"true"}],repeatPassword:[{validator:function(r,s,o){""===s?o(new Error("请再次输入新密码")):s!==e.ruleForm.newPassword?o(new Error("两次输入新密码不一致!")):o()},trigger:"blur",required:"true"}]}}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var s={oldPassword:r.ruleForm.oldPassword,newPassword:r.ruleForm.newPassword,repeatPassword:r.ruleForm.repeatPassword};o.c.updateAdminPassword(s).then(function(e){e.data&&(0==e.data.err?(r.$message({type:"success",message:"修改密码成功，请重新登陆!"}),r.$router.push("../login")):1==e.data.err?r.$message({type:"error",message:"请输入旧密码!"}):2==e.data.err?r.$message({type:"error",message:"旧密码错误!"}):3==e.data.err?r.$message({type:"error",message:"请输入新密码!"}):3==e.data.err?r.$message({type:"error",message:"新密码长度必须为6位字符以上!"}):4==e.data.err?r.$message({type:"error",message:"两次输入新密码不一致!"}):r.$message({type:"error",message:"保存失败!"}))})})},resetForm:function(e){this.$refs[e].resetFields()}}},a={render:function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"queryList"},[s("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"120px"}},[s("el-form-item",{attrs:{label:"旧密码：",prop:"oldPassword"}},[s("el-input",{attrs:{type:"password",size:"small",autocomplete:"off",clearable:""},model:{value:e.ruleForm.oldPassword,callback:function(r){e.$set(e.ruleForm,"oldPassword",r)},expression:"ruleForm.oldPassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"新密码：",prop:"newPassword"}},[s("el-input",{attrs:{type:"password",size:"small",autocomplete:"off",clearable:""},model:{value:e.ruleForm.newPassword,callback:function(r){e.$set(e.ruleForm,"newPassword",r)},expression:"ruleForm.newPassword"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"确认新密码：",prop:"repeatPassword"}},[s("el-input",{attrs:{type:"password",size:"small",autocomplete:"off",clearable:""},model:{value:e.ruleForm.repeatPassword,callback:function(r){e.$set(e.ruleForm,"repeatPassword",r)},expression:"ruleForm.repeatPassword"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:function(r){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var l=s("VU/8")(t,a,!1,function(e){s("+9L8")},"data-v-01d9b710",null);r.default=l.exports}});
//# sourceMappingURL=1.75e1d5f0ba75ee5b0cc7.js.map