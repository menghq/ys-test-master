webpackJsonp([10],{dR9o:function(e,t){},gVBB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("t5DY"),i={name:"userList",data:function(){return{isAdd:!1,formInline:{dateVals:[],schoolId:"",transactionType:"",dinerName:""},transactionTypeArr:{INCOME:"充值",REFUND:"提现"},incomeAmount:"0.00",incomeCount:"0",refundAmount:"0.00",refundCount:"0",listData:[],pageIndex:1,pageSize:15,pageTotal:0}},methods:{getWalletLogList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,i={dateRange:null==this.formInline.dateVals?[]:this.formInline.dateVals,action:"CONSUME",dinerName:this.formInline.dinerName,pageIndex:t,pageSize:a};n.a.getWalletLogList(i).then(function(n){var i=[],l=0,o="0.00",r="0",s="0.00",d="0",m=(t-1)*a+1;n.data&&(n.data.list.forEach(function(t,a){i.push({rowId:m,id:t.id,outTradeNo:t.outTradeNo,dinerName:t.dinerName,transactionType:e.transactionTypeArr[t.transactionType],money:t.money,createTime:t.createTime}),m++}),l=n.data.total,o=n.data.incomeAmount,r=n.data.incomeCount,s=n.data.refundAmount,d=n.data.refundCount),console.log(i),e.listData=i,e.pageTotal=l,e.incomeAmount=o,e.incomeCount=r,e.refundAmount=s,e.refundCount=d})},submitForm:function(){this.getWalletLogList()},handleSizeChange:function(e){this.pageSize=e,this.getWalletLogList(this.pageIndex,e)},handleCurrentChange:function(e){this.pageIndex=e,this.getWalletLogList(e,this.pageSize)},changeDate:function(){this.formInline.dateVals||(this.formInline.dateVals=[],console.log(this.formInline.dateVals))}},mounted:function(){this.getWalletLogList()}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userList"},[a("div",{staticClass:"wrapper"},[a("div",{staticClass:"queryList"},[a("el-form",{staticClass:"form-inline",attrs:{inline:!0,model:e.formInline}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-form-item",{attrs:{prop:"dateVals"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"daterange",size:"small","range-separator":"至","start-placeholder":"交易开始日期","end-placeholder":"交易结束日期",align:"right"},on:{change:e.changeDate},model:{value:e.formInline.dateVals,callback:function(t){e.$set(e.formInline,"dateVals",t)},expression:"formInline.dateVals"}})],1),e._v(" "),a("el-form-item",{staticStyle:{width:"150px"},attrs:{prop:"userName"}},[a("el-input",{attrs:{size:"small",clearable:"",placeholder:"请输入人员姓名"},model:{value:e.formInline.dinerName,callback:function(t){e.$set(e.formInline,"dinerName","string"==typeof t?t.trim():t)},expression:"formInline.dinerName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{float:"right"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("formInline")}}},[e._v("查询")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tableCom",staticStyle:{"margin-top":"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.listData,border:""}},[a("el-table-column",{attrs:{prop:"rowId",label:"序号",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",width:"200",label:"消费时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"dinerName",width:"200",label:"人员姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"money",label:"金额"}})],1)],1),e._v(" "),a("div",{staticClass:"pagination",staticStyle:{"margin-top":"15px"}},[a("el-pagination",{attrs:{"page-sizes":[15,30,45,60],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])},staticRenderFns:[]};var o=a("VU/8")(i,l,!1,function(e){a("dR9o")},null,null);t.default=o.exports}});
//# sourceMappingURL=10.d17d1b78ee192af1ef1f.js.map