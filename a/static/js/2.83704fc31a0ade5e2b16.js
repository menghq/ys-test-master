webpackJsonp([2],{"2JA5":function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=o("t5DY"),n={name:"userList",data:function(){return{formConfig:{openMealBreakfast:!0,openMealLunch:!0,openMealDinner:!0,mealBreakfastTimeVals:[],mealLunchTimeVals:[],mealDinnerTimeVals:[],paymentCycle:"termly",fixedRechargeMoney:"0.00",tempRechargeMoney:"0.00",orderStartDate:"",orderEndDate:"",openBreakfast:!0,openLunch:!0,openDinner:!0,breakfastTime:"",lunchTime:"",dinnerTime:"",stopOrderBreakfastOffset:"",stopOrderLunchOffset:"",stopOrderDinnerOffset:"",orderMode:"WEEKLY"},orderModeArr:{DAILY:"每日",WEEKLY:"每周"},rules:{schoolName:[{required:!0,message:"请输入学校名称",trigger:["blur","change"]}]}}},methods:{getSchoolConfigInfo:function(){var e=this;t.e.getSchoolConfigInfo(1).then(function(r){if(r.data){var o=r.data;e.formConfig={openMealBreakfast:1==o.openMealBreakfast,openMealLunch:1==o.openMealLunch,openMealDinner:1==o.openMealDinner,fixedRechargeMoney:o.fixedRechargeMoney,tempRechargeMoney:o.tempRechargeMoney,orderStartDate:o.orderStartDate,orderEndDate:o.orderEndDate,openBreakfast:1==o.openBreakfast,openLunch:1==o.openLunch,openDinner:1==o.openDinner,breakfastTime:o.breakfastTime,lunchTime:o.lunchTime,dinnerTime:o.dinnerTime,stopOrderBreakfastOffset:o.stopOrderBreakfastOffset,stopOrderLunchOffset:o.stopOrderLunchOffset,stopOrderDinnerOffset:o.stopOrderDinnerOffset,orderMode:o.orderMode}}})},updateSchoolInfo:function(){var e=this,r={openMealBreakfast:Number(this.formConfig.openMealBreakfast),openMealLunch:Number(this.formConfig.openMealLunch),openMealDinner:Number(this.formConfig.openMealDinner),fixedRechargeMoney:this.formConfig.fixedRechargeMoney,tempRechargeMoney:this.formConfig.tempRechargeMoney,orderStartDate:this.formConfig.orderStartDate,orderEndDate:this.formConfig.orderEndDate,openBreakfast:Number(this.formConfig.openBreakfast),openLunch:Number(this.formConfig.openLunch),openDinner:Number(this.formConfig.openDinner),breakfastTime:this.formConfig.breakfastTime,lunchTime:this.formConfig.lunchTime,dinnerTime:this.formConfig.dinnerTime,stopOrderBreakfastOffset:Number(this.formConfig.stopOrderBreakfastOffset),stopOrderLunchOffset:Number(this.formConfig.stopOrderLunchOffset),stopOrderDinnerOffset:Number(this.formConfig.stopOrderDinnerOffset),orderMode:this.formConfig.orderMode};t.e.updateSchoolInfo(r).then(function(r){r.data&&(0==r.data.err?e.$message({type:"success",message:"保存成功!"}):1==r.data.err?e.$message({type:"error",message:"无效的单位!"}):e.$message({type:"error",message:"保存失败!"}))})},submitAddForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.updateSchoolInfo()})}},mounted:function(){this.getSchoolConfigInfo()}},a={render:function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("div",{staticClass:"userList"},[o("div",{staticClass:"wrapper"},[o("el-form",{ref:"ruleForm",attrs:{model:e.formConfig,rules:e.rules,"label-width":"150px"}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("el-form-item",{attrs:{label:"早餐供餐时间：",prop:"orderStartDate"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formConfig.openMealBreakfast,callback:function(r){e.$set(e.formConfig,"openMealBreakfast",r)},expression:"formConfig.openMealBreakfast"}}),e._v(" "),o("el-time-picker",{attrs:{size:"small","is-range":"","arrow-control":"","value-format":"HH:mm:ss","range-separator":"至","start-placeholder":"选择开始时间","end-placeholder":"选择结束时间","picker-options":{selectableRange:["10:00:00 - 14:00:00","10:00:00 - 14:00:00"]}},model:{value:e.formConfig.mealBreakfastTimeVals,callback:function(r){e.$set(e.formConfig,"mealBreakfastTimeVals",r)},expression:"formConfig.mealBreakfastTimeVals"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"午餐供餐时间：",prop:"orderEndDate"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formConfig.openMealLunch,callback:function(r){e.$set(e.formConfig,"openMealLunch",r)},expression:"formConfig.openMealLunch"}}),e._v(" "),o("el-time-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择供餐结束日期"},model:{value:e.formConfig.mealLunchTimeVals,callback:function(r){e.$set(e.formConfig,"mealLunchTimeVals",r)},expression:"formConfig.mealLunchTimeVals"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"晚餐供餐时间：",prop:"orderEndDate"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formConfig.openMealDinner,callback:function(r){e.$set(e.formConfig,"openMealDinner",r)},expression:"formConfig.openMealDinner"}}),e._v(" "),o("el-time-picker",{attrs:{"value-format":"yyyy-MM-dd",size:"small",type:"date",placeholder:"选择供餐结束日期"},model:{value:e.formConfig.mealDinnerTimeVals,callback:function(r){e.$set(e.formConfig,"mealDinnerTimeVals",r)},expression:"formConfig.mealDinnerTimeVals"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"早餐预定：",prop:"openBreakfast"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formConfig.openBreakfast,callback:function(r){e.$set(e.formConfig,"openBreakfast",r)},expression:"formConfig.openBreakfast"}}),e._v(" "),o("el-time-picker",{staticStyle:{width:"140px"},attrs:{size:"small","value-format":"HH:mm:ss","picker-options":{selectableRange:"05:00:00 - 09:00:00"},placeholder:"用餐时间"},model:{value:e.formConfig.breakfastTime,callback:function(r){e.$set(e.formConfig,"breakfastTime",r)},expression:"formConfig.breakfastTime"}}),e._v(" "),o("el-input",{staticStyle:{width:"140px"},attrs:{size:"small",clearable:"",placeholder:"停止预定分钟"},model:{value:e.formConfig.stopOrderBreakfastOffset,callback:function(r){e.$set(e.formConfig,"stopOrderBreakfastOffset","string"==typeof r?r.trim():r)},expression:"formConfig.stopOrderBreakfastOffset"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"午餐预定：",prop:"openLunch"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formConfig.openLunch,callback:function(r){e.$set(e.formConfig,"openLunch",r)},expression:"formConfig.openLunch"}}),e._v(" "),o("el-time-picker",{staticStyle:{width:"140px"},attrs:{size:"small","value-format":"HH:mm:ss","picker-options":{selectableRange:"10:00:00 - 14:00:00"},placeholder:"用餐时间"},model:{value:e.formConfig.lunchTime,callback:function(r){e.$set(e.formConfig,"lunchTime",r)},expression:"formConfig.lunchTime"}}),e._v(" "),o("el-input",{staticStyle:{width:"140px"},attrs:{size:"small",clearable:"",placeholder:"停止预定分钟"},model:{value:e.formConfig.stopOrderLunchOffset,callback:function(r){e.$set(e.formConfig,"stopOrderLunchOffset","string"==typeof r?r.trim():r)},expression:"formConfig.stopOrderLunchOffset"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"晚餐预定：",prop:"openDinner"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:e.formConfig.openDinner,callback:function(r){e.$set(e.formConfig,"openDinner",r)},expression:"formConfig.openDinner"}}),e._v(" "),o("el-time-picker",{staticStyle:{width:"140px"},attrs:{size:"small","value-format":"HH:mm:ss","picker-options":{selectableRange:"16:00:00 - 20:00:00"},placeholder:"用餐时间"},model:{value:e.formConfig.dinnerTime,callback:function(r){e.$set(e.formConfig,"dinnerTime",r)},expression:"formConfig.dinnerTime"}}),e._v(" "),o("el-input",{staticStyle:{width:"140px"},attrs:{size:"small",clearable:"",placeholder:"停止预定分钟"},model:{value:e.formConfig.stopOrderDinnerOffset,callback:function(r){e.$set(e.formConfig,"stopOrderDinnerOffset","string"==typeof r?r.trim():r)},expression:"formConfig.stopOrderDinnerOffset"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"订餐模式：",prop:"orderMode"}},[o("el-select",{attrs:{size:"small",placeholder:"请选择订餐模式"},model:{value:e.formConfig.orderMode,callback:function(r){e.$set(e.formConfig,"orderMode",r)},expression:"formConfig.orderMode"}},e._l(e.orderModeArr,function(e,r){return o("el-option",{key:r,attrs:{label:e,value:r}})}),1)],1)],1)],1)],1)],1),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.submitAddForm("ruleForm")}}},[e._v("保存")])],1)])},staticRenderFns:[]};var i=o("VU/8")(n,a,!1,function(e){o("c/bX")},null,null);r.default=i.exports},"c/bX":function(e,r){}});
//# sourceMappingURL=2.83704fc31a0ade5e2b16.js.map