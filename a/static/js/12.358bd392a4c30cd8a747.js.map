{"version":3,"sources":["webpack:///src/page/foodManagement/menuList.vue","webpack:///./src/page/foodManagement/menuList.vue?025a","webpack:///./src/page/foodManagement/menuList.vue"],"names":["menuList","name","data","isAdd","formTitle","dialogVisible","choseFoodVisible","choseSchoolVisible","form","id","menuName","menuCat","menuCatName","rangeId","rangeName","menuType","menuTypeName","content","formInline","menuCatArr","1","2","menuTypeArr","3","weekDayArr","4","5","6","7","kitchenData","rangeData","menuFoodData","foodId","foodSelect","foodData","listData","pageIndex","pageSize","pageTotal","school","menuId","list","select","rules","required","message","trigger","min","max","price","methods","getAdminList","_this2","this","arguments","length","undefined","datas","common","getMenuList","then","res","total","rowId","forEach","el","i","push","kitchenName","schoolName","createTime","console","log","getAdminInfo","_this3","getMenuInfo","info","getMenuFoodInfo","_this4","orderDate","orderWeekday","getMenuSchoolInfo","_this5","getFoodSelect","_this6","foodName","addUser","clearForm","cancelForm","closeChoseFood","changeChoseFood","e","submitAddForm","formName","_this7","$refs","validate","valid","addAdminInfo","updateAdminInfo","_this8","addMenuInfo","err","$message","type","_this9","foodDesc","updateFoodInfo","updateMenuFoodInfo","_this10","contentId","submitFoodForm","choseFood","food","getRangeWeekList","_this11","getRangeMonthList","_this12","getKitchenSelect","_this13","changeMenuCat","resetFields","submitForm","goToDetail","handleSizeChange","val","handleCurrentChange","mounted","foodManagement_menuList","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","inline","model","span","staticStyle","width","prop","size","clearable","placeholder","value","callback","$$v","$set","trim","expression","_v","float","on","click","$event","icon","margin-top","border","label","display","fixed","align","scopedSlots","_u","key","fn","scope","row","page-sizes","page-size","layout","size-change","current-change","title","visible","show-close","update:visible","close","ref","label-width","_s","change","_l","item","_e","show-header","index","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/12.358bd392a4c30cd8a747.js","sourcesContent":["<template>\r\n  <div class=\"userList\">\r\n    <div class=\"wrapper\">\r\n      <div class=\"queryList\">\r\n        <el-form :inline=\"true\" :model=\"formInline\" class=\"form-inline\">\r\n          <el-row>\r\n            <el-col :span=\"18\">\r\n              <el-form-item prop=\"menuName\" style=\"width:150px;\">\r\n                <el-input\r\n                  size=\"small\"\r\n                  clearable\r\n                  v-model.trim=\"formInline.menuName\"\r\n                  placeholder=\"请输入菜单名称\"\r\n                ></el-input>\r\n              </el-form-item>\r\n            </el-col>\r\n            <el-col :span=\"6\">\r\n              <el-form-item style=\"float: right;\">\r\n                <el-button size=\"small\" type=\"primary\" @click=\"submitForm('formInline')\">查询</el-button>\r\n                <el-button size=\"small\" icon=\"el-icon-plus\" type=\"default\" @click=\"addUser\">添加菜单</el-button>\r\n              </el-form-item>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form>\r\n      </div>\r\n      <div class=\"tableCom\" style=\"margin-top: 15px;\">\r\n        <el-table :data=\"listData\" border style=\"width: 100%\">\r\n          <el-table-column prop=\"rowId\" label=\"序号\" width=\"50\"></el-table-column>\r\n          <el-table-column prop=\"menuName\" label=\"菜单名称\"></el-table-column>\r\n          <el-table-column prop=\"menuCat\" width=\"80\" label=\"类型\"></el-table-column>\r\n          <el-table-column prop=\"menuType\" width=\"80\" label=\"餐段\"></el-table-column>\r\n          <el-table-column prop=\"rangeName\" width=\"220\" label=\"时段\"></el-table-column>\r\n          <el-table-column prop=\"createTime\" label=\"创建时间\"></el-table-column>\r\n\r\n          <el-table-column\r\n            fixed=\"right\"\r\n            style=\"display:none;\"\r\n            align=\"center\"\r\n            label=\"操作\"\r\n            width=\"200\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click=\"goToDetail(scope.row.id)\" type=\"text\" size=\"small\">查看</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <div class=\"pagination\" style=\"margin-top: 15px;\">\r\n        <el-pagination\r\n          @size-change=\"handleSizeChange\"\r\n          @current-change=\"handleCurrentChange\"\r\n          :page-sizes=\"[15, 30, 45, 60]\"\r\n          :page-size=\"100\"\r\n          layout=\"total, sizes, prev, pager, next, jumper\"\r\n          :total=\"pageTotal\"\r\n        ></el-pagination>\r\n      </div>\r\n      <div class=\"dialogBox\">\r\n        <el-dialog\r\n          :title=\"formTitle\"\r\n          :visible.sync=\"dialogVisible\"\r\n          @close=\"cancelForm\"\r\n          :show-close=\"true\"\r\n          width=\"750px\"\r\n        >\r\n          <div class=\"wrapper\">\r\n            <div>\r\n              <el-form :model=\"form\" :rules=\"rules\" label-width=\"100px\" ref=\"ruleForm\">\r\n                <el-row>\r\n                  <div class=\"grid-content bg-purple\">\r\n                    <el-form-item label=\"菜单名称：\" v-if=\"isAdd == false\" prop=\"menuName\">\r\n                      <span>{{form.menuName}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"菜单名称：\" v-else prop=\"menuName\">\r\n                      <el-input\r\n                        size=\"small\"\r\n                        clearable\r\n                        v-model.trim=\"form.menuName\"\r\n                        placeholder=\"请输入菜单名称\"\r\n                        style=\"width:180px;\"\r\n                      ></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"类型：\" v-if=\"isAdd == false\" prop=\"menuCat\">\r\n                      <span>{{form.menuCatName}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"类型：\" v-else prop=\"menuCat\">\r\n                      <el-radio v-model=\"form.menuCat\" @change=\"changeMenuCat\" label=\"1\">周度菜单</el-radio>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"时段：\" v-if=\"isAdd == false\" prop=\"rangeId\">\r\n                      <span>{{form.rangeName}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"时段：\" v-else prop=\"rangeId\">\r\n                      <el-select style=\"width:300px;\" v-model=\"form.rangeId\" placeholder=\"请选择日期时段\">\r\n                        <el-option\r\n                          v-for=\"item in rangeData\"\r\n                          :key=\"item.id\"\r\n                          :label=\"item.name\"\r\n                          :value=\"item.id\"\r\n                        ></el-option>\r\n                      </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"餐段：\" v-if=\"isAdd == false\" prop=\"menuType\">\r\n                      <span>{{form.menuTypeName}}</span>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"餐段：\" v-else prop=\"menuType\">\r\n                      <el-radio v-model=\"form.menuType\" label=\"1\">早餐</el-radio>\r\n                      <el-radio v-model=\"form.menuType\" label=\"2\">午餐</el-radio>\r\n                      <el-radio v-model=\"form.menuType\" label=\"3\">晚餐</el-radio>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"创建时间：\" v-if=\"isAdd == false\" prop=\"createTime\">\r\n                      <span>{{form.createTime}}</span>\r\n                    </el-form-item>\r\n                  </div>\r\n                </el-row>\r\n              </el-form>\r\n\r\n              <el-row v-if=\"isAdd == false\">\r\n                <div class=\"food-table\" style=\"margin-top: 15px;\">\r\n                  <el-table :data=\"menuFoodData\" border :show-header=\"false\" style=\"width: 100%\">\r\n                    <el-table-column align=\"center\" width=\"200\">\r\n                      <template slot-scope=\"scope\">\r\n                        <div>{{scope.row.orderDate}}</div>\r\n                        <div>{{scope.row.orderWeekday}}</div>\r\n                      </template>\r\n                    </el-table-column>\r\n                    <el-table-column align=\"center\">\r\n                      <template slot-scope=\"scope\">\r\n                        <div class=\"food-list\">\r\n                          <div\r\n                            class=\"food-item\"\r\n                            v-for=\"(item, index) in scope.row.content\"\r\n                            v-bind:key=\"index\"\r\n                          >\r\n                            <div class=\"food-name\">{{item.foodName}}</div>\r\n                            <div class=\"food-price\">{{item.price}}</div>\r\n                          </div>\r\n                          <div class=\"food-item\">\r\n                            <el-button\r\n                              @click=\"choseFood(scope.row.rowId)\"\r\n                              type=\"text\"\r\n                              size=\"small\"\r\n                            >编辑</el-button>\r\n                          </div>\r\n                        </div>\r\n                      </template>\r\n                    </el-table-column>\r\n                  </el-table>\r\n                </div>\r\n              </el-row>\r\n            </div>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\" v-if=\"isAdd == true\">\r\n            <el-button @click=\"cancelForm()\" size=\"mini\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"submitAddForm('ruleForm')\" size=\"mini\">保存</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n      <div class=\"choseFoodBox\">\r\n        <el-dialog\r\n          :title=\"formTitle\"\r\n          :visible.sync=\"choseFoodVisible\"\r\n          @close=\"closeChoseFood\"\r\n          :show-close=\"true\"\r\n          width=\"750px\"\r\n        >\r\n          <div class=\"wrapper\">\r\n            <el-row>\r\n              <div class=\"tableCom\" style=\"margin-top: 15px;\">\r\n                <div class=\"food-list\">\r\n                  <el-checkbox-group v-model=\"foodSelect\" @change=\"changeChoseFood\">\r\n                    <el-checkbox-button\r\n                      class=\"chose-item\"\r\n                      v-for=\"(item, index) in foodData\"\r\n                      :label=\"item.id\"\r\n                      :key=\"index\"\r\n                    >\r\n                      <div>{{item.foodName}}</div>\r\n                      <div>{{item.price}}</div>\r\n                    </el-checkbox-button>\r\n                  </el-checkbox-group>\r\n                </div>\r\n              </div>\r\n            </el-row>\r\n          </div>\r\n          <span slot=\"footer\" class=\"dialog-footer\">\r\n            <el-button @click=\"closeChoseFood()\" size=\"mini\">取消</el-button>\r\n            <el-button type=\"primary\" @click=\"submitFoodForm()\" size=\"mini\">保存</el-button>\r\n          </span>\r\n        </el-dialog>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { PublicModule, OrderModule } from \"@/api/common\";\r\nexport default {\r\n  name: \"userList\",\r\n  data() {\r\n    const validateRepeatPassword = (rule, value, callback) => {\r\n      if (this.form.repeatPassword != this.form.newPassword) {\r\n        callback(new Error(\"两次密码不一致\"));\r\n      }\r\n\r\n      callback();\r\n    };\r\n    return {\r\n      isAdd: false,\r\n      formTitle: \"\",\r\n      dialogVisible: false,\r\n      choseFoodVisible: false,\r\n      choseSchoolVisible: false,\r\n      form: {\r\n        id: 0,\r\n        menuName: \"\",\r\n        menuCat: 1,\r\n        menuCatName: \"\",\r\n        rangeId: \"\",\r\n        rangeName: \"\",\r\n        menuType: \"\",\r\n        menuTypeName: \"\",\r\n        content: [],\r\n      },\r\n      formInline: {\r\n        menuName: \"\",\r\n      },\r\n      menuCatArr: {\r\n        1: \"周度菜单\",\r\n        2: \"月度菜单\",\r\n      },\r\n      menuTypeArr: {\r\n        1: \"早餐\",\r\n        2: \"午餐\",\r\n        3: \"晚餐\",\r\n      },\r\n      weekDayArr: {\r\n        1: \"星期日\",\r\n        2: \"星期一\",\r\n        3: \"星期二\",\r\n        4: \"星期三\",\r\n        5: \"星期四\",\r\n        6: \"星期五\",\r\n        7: \"星期六\",\r\n      },\r\n      kitchenData: [],\r\n      rangeData: [],\r\n      menuFoodData: [],\r\n      foodId: 0,\r\n      foodSelect: [],\r\n      foodData: [],\r\n      listData: [],\r\n      pageIndex: 1,\r\n      pageSize: 15,\r\n      pageTotal: 0,\r\n      school: {\r\n        menuId: 0,\r\n        list: [],\r\n        select: [],\r\n      },\r\n      rules: {\r\n        menuName: [\r\n          {\r\n            required: true,\r\n            message: \"请输入菜单名称\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n          {\r\n            required: true,\r\n            min: 2,\r\n            max: 128,\r\n            message: \"菜单名称不能小于2或大于128个字符\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        price: [\r\n          {\r\n            required: true,\r\n            message: \"请选择菜品价格\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        menuCat: [\r\n          {\r\n            required: true,\r\n            message: \"请选择类型\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        rangeId: [\r\n          {\r\n            required: true,\r\n            message: \"请选择时段\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n        menuType: [\r\n          {\r\n            required: true,\r\n            message: \"请选择餐段\",\r\n            trigger: [\"blur\", \"change\"],\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getAdminList(pageIndex = 1, pageSize = 15) {\r\n      let datas = {\r\n        menuName: this.formInline.menuName,\r\n        pageIndex: pageIndex,\r\n        pageSize: pageSize,\r\n      };\r\n      OrderModule.getMenuList(datas).then((res) => {\r\n        let list = [];\r\n        let total = 0;\r\n        let rowId = (pageIndex - 1) * pageSize + 1;\r\n        if (res.data) {\r\n          res.data.list.forEach((el, i) => {\r\n            list.push({\r\n              rowId: rowId,\r\n              id: el.id,\r\n              kitchenName: el.kitchenName,\r\n              menuName: el.menuName,\r\n              menuCat: this.menuCatArr[el.menuCat],\r\n              rangeName: el.rangeName,\r\n              menuType: this.menuTypeArr[el.menuType],\r\n              schoolName: el.schoolName,\r\n              createTime: el.createTime,\r\n            });\r\n            rowId++;\r\n          });\r\n          total = res.data.total;\r\n        }\r\n        console.log(list);\r\n        this.listData = list;\r\n        this.pageTotal = total;\r\n      });\r\n    },\r\n    getAdminInfo(id) {\r\n      OrderModule.getMenuInfo(id).then((res) => {\r\n        if (res.data) {\r\n          let data = res.data.info;\r\n\r\n          let info = {\r\n            id: data.id,\r\n            menuName: data.menuName,\r\n            menuCat: data.menuCat,\r\n            menuCatName: this.menuCatArr[data.menuCat],\r\n            rangeName: data.rangeName,\r\n            menuType: data.menuType,\r\n            menuTypeName: this.menuTypeArr[data.menuType],\r\n            createTime: data.createTime,\r\n          };\r\n\r\n          this.form = info;\r\n        }\r\n      });\r\n    },\r\n    getMenuFoodInfo(id) {\r\n      OrderModule.getMenuFoodInfo(id).then((res) => {\r\n        let list = [];\r\n        if (res.data) {\r\n          let data = res.data.list;\r\n\r\n          res.data.list.forEach((el, i) => {\r\n            list.push({\r\n              rowId: i,\r\n              id: el.id,\r\n              orderDate: el.orderDate,\r\n              orderWeekday: this.weekDayArr[el.orderWeekday],\r\n              content: el.content,\r\n            });\r\n          });\r\n\r\n          this.menuFoodData = list;\r\n          console.log(list);\r\n        }\r\n      });\r\n    },\r\n    getMenuSchoolInfo(id) {\r\n      OrderModule.getMenuSchoolInfo(id).then((res) => {\r\n        let list = [];\r\n        let select = [];\r\n        if (res.data) {\r\n          res.data.list.forEach((el, i) => {\r\n            list.push({\r\n              rowId: i,\r\n              id: el.id,\r\n              schoolName: el.schoolName,\r\n            });\r\n          });\r\n\r\n          res.data.select.forEach((el, i) => {\r\n            select.push(el.id);\r\n          });\r\n\r\n          this.school.menuId = id;\r\n          this.school.list = list;\r\n          this.school.select = select;\r\n        }\r\n      });\r\n    },\r\n    getFoodSelect() {\r\n      let data = {};\r\n      PublicModule.getFoodSelect(data).then((res) => {\r\n        let list = [];\r\n        if (res.data) {\r\n          let data = res.data.list;\r\n\r\n          data.forEach((el, i) => {\r\n            list.push({\r\n              id: el.id,\r\n              foodName: el.foodName,\r\n              price: el.price,\r\n            });\r\n          });\r\n\r\n          this.foodData = list;\r\n          console.log(this.foodData);\r\n        }\r\n      });\r\n    },\r\n    addUser() {\r\n      this.formTitle = \"新增菜单\";\r\n      this.isAdd = true;\r\n      this.dialogVisible = true;\r\n      this.clearForm();\r\n      console.log(this.form);\r\n    },\r\n    cancelForm() {\r\n      this.dialogVisible = false;\r\n    },\r\n    closeChoseFood() {\r\n      this.choseFoodVisible = false;\r\n    },\r\n    changeChoseFood(e) {\r\n      console.log(e);\r\n      console.log(this.foodSelect);\r\n    },\r\n    submitAddForm(formName) {\r\n      let that = this;\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (this.isAdd) {\r\n            this.addAdminInfo();\r\n          } else {\r\n            this.updateAdminInfo();\r\n          }\r\n        } else {\r\n          console.log(\"error submit!!\");\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    addAdminInfo() {\r\n      let data = {\r\n        menuName: this.form.menuName,\r\n        menuCat: this.form.menuCat,\r\n        rangeId: this.form.rangeId,\r\n        menuType: this.form.menuType,\r\n      };\r\n      OrderModule.addMenuInfo(data).then((res) => {\r\n        if (res.data) {\r\n          if (res.data.err == 0) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"保存成功!\",\r\n            });\r\n            this.dialogVisible = false;\r\n            this.getAdminList();\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"保存失败!\",\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    updateAdminInfo() {\r\n      let data = {\r\n        id: this.form.id,\r\n        foodName: this.form.foodName,\r\n        foodDesc: this.form.foodDesc,\r\n        price: this.form.price,\r\n      };\r\n      OrderModule.updateFoodInfo(data).then((res) => {\r\n        if (res.data) {\r\n          if (res.data.err == 0) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"保存成功!\",\r\n            });\r\n            this.choseFoodVisible = false;\r\n            this.getAdminList();\r\n          } else if (res.data.err == 1) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"无效的菜单名称!\",\r\n            });\r\n          } else if (res.data.err == 2) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"无效的时间段!\",\r\n            });\r\n          } else if (res.data.err == 4) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"已存在该时间段菜单!\",\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"保存失败!\",\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    updateMenuFoodInfo() {\r\n      let data = {\r\n        id: this.foodId,\r\n        menuId: this.form.id,\r\n        contentId: this.foodSelect,\r\n      };\r\n      OrderModule.updateMenuFoodInfo(data).then((res) => {\r\n        if (res.data) {\r\n          if (res.data.err == 0) {\r\n            this.$message({\r\n              type: \"success\",\r\n              message: \"保存成功!\",\r\n            });\r\n            this.choseFoodVisible = false;\r\n            this.getMenuFoodInfo(this.form.id);\r\n          } else if (res.data.err == 1) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"无效的菜单!\",\r\n            });\r\n          } else if (res.data.err == 2) {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"超出数量限制，每天最多只能加入9个菜品!\",\r\n            });\r\n          } else {\r\n            this.$message({\r\n              type: \"error\",\r\n              message: \"保存失败!\",\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    submitFoodForm() {\r\n      this.updateMenuFoodInfo();\r\n    },\r\n    choseFood(id) {\r\n      this.choseFoodVisible = true;\r\n      let food = this.menuFoodData[id];\r\n      let foodSelect = [];\r\n      food.content.forEach((el, i) => {\r\n        foodSelect.push(el.id);\r\n      });\r\n      this.foodId = food.id;\r\n      this.foodSelect = foodSelect;\r\n      this.getFoodSelect();\r\n    },\r\n    getRangeWeekList() {\r\n      let datas = {};\r\n      OrderModule.getRangeWeekList(datas).then((res) => {\r\n        if (res.data) {\r\n          let list = [];\r\n          res.data.list.forEach((el, i) => {\r\n            list.push({\r\n              id: el.id,\r\n              name: el.rangeName,\r\n            });\r\n          });\r\n          this.rangeData = list;\r\n        }\r\n      });\r\n    },\r\n    getRangeMonthList() {\r\n      let datas = {};\r\n      OrderModule.getRangeMonthList(datas).then((res) => {\r\n        if (res.data) {\r\n          let list = [];\r\n          res.data.list.forEach((el, i) => {\r\n            list.push({\r\n              id: el.id,\r\n              name: el.rangeName,\r\n            });\r\n          });\r\n          this.rangeData = list;\r\n        }\r\n      });\r\n    },\r\n    getKitchenSelect() {\r\n      PublicModule.getKitchenSelect().then((res) => {\r\n        if (res.data) {\r\n          let list = [];\r\n          res.data.list.forEach((el, i) => {\r\n            list.push({\r\n              id: el.id,\r\n              name: el.kitchenName,\r\n            });\r\n          });\r\n          this.kitchenData = list;\r\n        }\r\n      });\r\n    },\r\n    changeMenuCat(e) {\r\n      if (e == 1) {\r\n        this.getRangeWeekList();\r\n      } else if (e == 2) {\r\n        this.getRangeMonthList();\r\n      }\r\n    },\r\n    clearForm() {\r\n      if (this.$refs[\"ruleForm\"]) {\r\n        this.$refs[\"ruleForm\"].resetFields();\r\n      }\r\n\r\n      this.form = {\r\n        id: 0,\r\n        foodName: \"\",\r\n        foodDesc: \"\",\r\n        price: \"\",\r\n      };\r\n    },\r\n    // 查询\r\n    submitForm() {\r\n      this.getAdminList();\r\n    },\r\n    goToDetail(id) {\r\n      this.formTitle = \"编辑菜单\";\r\n      this.isAdd = false;\r\n      this.dialogVisible = true;\r\n      this.clearForm();\r\n      this.getAdminInfo(id);\r\n      this.getMenuFoodInfo(id);\r\n    },\r\n    // 分页\r\n    handleSizeChange(val) {\r\n      this.pageSize = val;\r\n      this.getAdminList(this.pageIndex, val);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.pageIndex = val;\r\n      this.getAdminList(val, this.pageSize);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getKitchenSelect();\r\n    this.getAdminList();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"\">\r\n.queryList {\r\n  border: 1px solid #eee;\r\n  padding: 10px 15px 0px 15px;\r\n}\r\n.queryList .el-form-item {\r\n  margin-bottom: 12px;\r\n}\r\n.queryList /deep/ .el-form-item__label {\r\n  font-size: 13px !important;\r\n}\r\n\r\n.food-list {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.food-item {\r\n  width: 25%;\r\n}\r\n.el-checkbox-group {\r\n  width: 100%;\r\n}\r\n\r\n.food-item {\r\n  width: 25%;\r\n  border: 1px solid #ebeef5;\r\n}\r\n\r\n.food-item .food-name {\r\n  margin-top: 5px;\r\n  height: 25px;\r\n  line-height: 25px;\r\n}\r\n\r\n.food-item .food-price {\r\n  margin-bottom: 5px;\r\n  height: 25px;\r\n  line-height: 25px;\r\n}\r\n\r\n.food-item button {\r\n  height: 60px;\r\n}\r\n\r\n.chose-item {\r\n  width: 25%;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.el-checkbox-button__inner {\r\n  width: 80%;\r\n  border-left: 1px solid #dcdfe6;\r\n}\r\n\r\n.food-table .el-table_2_column_10 {\r\n  padding: 0px !important;\r\n}\r\n\r\n.food-table .el-table_2_column_10 .cell {\r\n  padding: 0px !important;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/foodManagement/menuList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userList\"},[_c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"queryList\"},[_c('el-form',{staticClass:\"form-inline\",attrs:{\"inline\":true,\"model\":_vm.formInline}},[_c('el-row',[_c('el-col',{attrs:{\"span\":18}},[_c('el-form-item',{staticStyle:{\"width\":\"150px\"},attrs:{\"prop\":\"menuName\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请输入菜单名称\"},model:{value:(_vm.formInline.menuName),callback:function ($$v) {_vm.$set(_vm.formInline, \"menuName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"formInline.menuName\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{staticStyle:{\"float\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('formInline')}}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-plus\",\"type\":\"default\"},on:{\"click\":_vm.addUser}},[_vm._v(\"添加菜单\")])],1)],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"tableCom\",staticStyle:{\"margin-top\":\"15px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.listData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"rowId\",\"label\":\"序号\",\"width\":\"50\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"menuName\",\"label\":\"菜单名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"menuCat\",\"width\":\"80\",\"label\":\"类型\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"menuType\",\"width\":\"80\",\"label\":\"餐段\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"rangeName\",\"width\":\"220\",\"label\":\"时段\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\"}}),_vm._v(\" \"),_c('el-table-column',{staticStyle:{\"display\":\"none\"},attrs:{\"fixed\":\"right\",\"align\":\"center\",\"label\":\"操作\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.goToDetail(scope.row.id)}}},[_vm._v(\"查看\")])]}}])})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"pagination\",staticStyle:{\"margin-top\":\"15px\"}},[_c('el-pagination',{attrs:{\"page-sizes\":[15, 30, 45, 60],\"page-size\":100,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pageTotal},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('div',{staticClass:\"dialogBox\"},[_c('el-dialog',{attrs:{\"title\":_vm.formTitle,\"visible\":_vm.dialogVisible,\"show-close\":true,\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event},\"close\":_vm.cancelForm}},[_c('div',{staticClass:\"wrapper\"},[_c('div',[_c('el-form',{ref:\"ruleForm\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"100px\"}},[_c('el-row',[_c('div',{staticClass:\"grid-content bg-purple\"},[(_vm.isAdd == false)?_c('el-form-item',{attrs:{\"label\":\"菜单名称：\",\"prop\":\"menuName\"}},[_c('span',[_vm._v(_vm._s(_vm.form.menuName))])]):_c('el-form-item',{attrs:{\"label\":\"菜单名称：\",\"prop\":\"menuName\"}},[_c('el-input',{staticStyle:{\"width\":\"180px\"},attrs:{\"size\":\"small\",\"clearable\":\"\",\"placeholder\":\"请输入菜单名称\"},model:{value:(_vm.form.menuName),callback:function ($$v) {_vm.$set(_vm.form, \"menuName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"form.menuName\"}})],1),_vm._v(\" \"),(_vm.isAdd == false)?_c('el-form-item',{attrs:{\"label\":\"类型：\",\"prop\":\"menuCat\"}},[_c('span',[_vm._v(_vm._s(_vm.form.menuCatName))])]):_c('el-form-item',{attrs:{\"label\":\"类型：\",\"prop\":\"menuCat\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},on:{\"change\":_vm.changeMenuCat},model:{value:(_vm.form.menuCat),callback:function ($$v) {_vm.$set(_vm.form, \"menuCat\", $$v)},expression:\"form.menuCat\"}},[_vm._v(\"周度菜单\")])],1),_vm._v(\" \"),(_vm.isAdd == false)?_c('el-form-item',{attrs:{\"label\":\"时段：\",\"prop\":\"rangeId\"}},[_c('span',[_vm._v(_vm._s(_vm.form.rangeName))])]):_c('el-form-item',{attrs:{\"label\":\"时段：\",\"prop\":\"rangeId\"}},[_c('el-select',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请选择日期时段\"},model:{value:(_vm.form.rangeId),callback:function ($$v) {_vm.$set(_vm.form, \"rangeId\", $$v)},expression:\"form.rangeId\"}},_vm._l((_vm.rangeData),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_vm._v(\" \"),(_vm.isAdd == false)?_c('el-form-item',{attrs:{\"label\":\"餐段：\",\"prop\":\"menuType\"}},[_c('span',[_vm._v(_vm._s(_vm.form.menuTypeName))])]):_c('el-form-item',{attrs:{\"label\":\"餐段：\",\"prop\":\"menuType\"}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.form.menuType),callback:function ($$v) {_vm.$set(_vm.form, \"menuType\", $$v)},expression:\"form.menuType\"}},[_vm._v(\"早餐\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"2\"},model:{value:(_vm.form.menuType),callback:function ($$v) {_vm.$set(_vm.form, \"menuType\", $$v)},expression:\"form.menuType\"}},[_vm._v(\"午餐\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"3\"},model:{value:(_vm.form.menuType),callback:function ($$v) {_vm.$set(_vm.form, \"menuType\", $$v)},expression:\"form.menuType\"}},[_vm._v(\"晚餐\")])],1),_vm._v(\" \"),(_vm.isAdd == false)?_c('el-form-item',{attrs:{\"label\":\"创建时间：\",\"prop\":\"createTime\"}},[_c('span',[_vm._v(_vm._s(_vm.form.createTime))])]):_vm._e()],1)])],1),_vm._v(\" \"),(_vm.isAdd == false)?_c('el-row',[_c('div',{staticClass:\"food-table\",staticStyle:{\"margin-top\":\"15px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.menuFoodData,\"border\":\"\",\"show-header\":false}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(_vm._s(scope.row.orderDate))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(scope.row.orderWeekday))])]}}],null,false,616556644)}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"food-list\"},[_vm._l((scope.row.content),function(item,index){return _c('div',{key:index,staticClass:\"food-item\"},[_c('div',{staticClass:\"food-name\"},[_vm._v(_vm._s(item.foodName))]),_vm._v(\" \"),_c('div',{staticClass:\"food-price\"},[_vm._v(_vm._s(item.price))])])}),_vm._v(\" \"),_c('div',{staticClass:\"food-item\"},[_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.choseFood(scope.row.rowId)}}},[_vm._v(\"编辑\")])],1)],2)]}}],null,false,968410820)})],1)],1)]):_vm._e()],1)]),_vm._v(\" \"),(_vm.isAdd == true)?_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.cancelForm()}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.submitAddForm('ruleForm')}}},[_vm._v(\"保存\")])],1):_vm._e()])],1),_vm._v(\" \"),_c('div',{staticClass:\"choseFoodBox\"},[_c('el-dialog',{attrs:{\"title\":_vm.formTitle,\"visible\":_vm.choseFoodVisible,\"show-close\":true,\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.choseFoodVisible=$event},\"close\":_vm.closeChoseFood}},[_c('div',{staticClass:\"wrapper\"},[_c('el-row',[_c('div',{staticClass:\"tableCom\",staticStyle:{\"margin-top\":\"15px\"}},[_c('div',{staticClass:\"food-list\"},[_c('el-checkbox-group',{on:{\"change\":_vm.changeChoseFood},model:{value:(_vm.foodSelect),callback:function ($$v) {_vm.foodSelect=$$v},expression:\"foodSelect\"}},_vm._l((_vm.foodData),function(item,index){return _c('el-checkbox-button',{key:index,staticClass:\"chose-item\",attrs:{\"label\":item.id}},[_c('div',[_vm._v(_vm._s(item.foodName))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(item.price))])])}),1)],1)])])],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.closeChoseFood()}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.submitFoodForm()}}},[_vm._v(\"保存\")])],1)])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-001f20fe\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/foodManagement/menuList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-001f20fe\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./menuList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menuList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./menuList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-001f20fe\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./menuList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/foodManagement/menuList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}